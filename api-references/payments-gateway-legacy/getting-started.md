# Getting started

#### **Access to API Credentials**

Please note that our API credentials, including the public key, consumer API key, and consumer API secret, are not publicly accessible. To ensure the security and integrity of our services, access to these credentials is granted through a controlled process.

If you are interested in integrating with our API and require these credentials, please contact our commercial team. They will guide you through the necessary steps to verify your application and provide you with the specific credentials needed for your use case.

#### **Core Features of the API**

1. **Authentication Management**
   * **Token Generation**: Supports OAuth standards for secure authentication. The API allows the generation of access tokens and refresh tokens through a dedicated endpoint, enabling clients to authenticate and subsequently authorize their API requests securely.<br>
2. **Card Tokenization**
   * **Token Creation**: Facilitates the secure handling of card information by converting sensitive card details into a token. This process enhances security by minimizing the exposure of actual card details during transactions.<br>
3.  **Payment Processing**

    * **Payment Initiation**: Clients can initiate various types of payment transactions, including credit, debit, and ACH transfers. This endpoint supports comprehensive payment details including amounts, currency, and payer information.
    * **Payment Retrieval**: The API provides functionality to retrieve details of specific payments using an external identifier, allowing for easy tracking and management of transactions.
    * **Payment Capture**: Allows for the capture of pre-authorized payments, facilitating delayed charging scenarios commonly used in hospitality and retail industries.
    * **Payment Refund**: Supports the refunding of transactions, which is essential for handling returns and customer service adjustments.
    * **Payment Void**: Offers the ability to void transactions, typically used to cancel a payment before it is fully processed and settled.



    #### **Macro Flows of a Typical Integration**

    \
    **Tokenization and Authorization**

    \
    The integration process begins on the checkout page. To comply with PCI standards and simplify integration, we provide a library designed for secure tokenization of cardholder data. This library ensures that the checkout page remains outside the PCI scope.

    Tokens generated by our library can be configured in one of two modes: **one-time** or **recurring**. It is important to note that storing cardholder data is strictly prohibited. All interactions with our APIs must use a tokenized card.

    \
    Detailed Steps in the Integration Flow:<br>

    1. **Checkout Interface**: The checkout page displays goods and collects payment information from the customer.
    2. **Data Protection**: Our components are set up to ensure that no cardholder data is sent to external servers.
    3. **Tokenization**: When the customer submits the payment form, the cardholder data is securely sent to Inyo's tokenization service, authenticated by a public key.
    4. **Callback Handling**: Inyo returns a callback to a local function indicating whether the tokenization was successful or if there was an error.
    5. **Error Management**: If there is an error, the checkout page must perform necessary validations and notify the customer of the issue.
    6. **Successful Tokenization**: Once tokenization is successful, the checkout page sends the tokenized data to the backend server for order processing. The server then communicates with Inyo's payment endpoint using the OAuth protocol.
    7. **Payment Processing**: During API communication, Inyo accepts an "externalId" to uniquely identify the payment request. A "capture" parameter can also be sent to immediately initiate the transfer of funds.
    8. **Post-Transaction Handling**: The payment status is relayed back to the backend server for further processing. Every transaction triggers an internal "rule engine" that checks for potential fraudulent activities and applies any customer-specific configurations, such as allowing only debit card transactions from specific regions.<br>

    This structured approach ensures that the integration is secure, compliant, and optimized for a smooth user experience, while also providing robust mechanisms to prevent fraud and unauthorized data handling.\
    <br>

    <figure><img src="../../.gitbook/assets/flow-1 (1).png" alt="" width="563"><figcaption></figcaption></figure>

\
**Post-authorization**\
Depending on how the authorization was placed, the API offers different scenarios, as follows:<br>

| API     | Scenario                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Capture | <p>Authorization is in the pre-authorized state, meaning that it was placed with the flag “capture” as false. When this flag is marked as false, it means the system performed a pre-authorization to check funds and card information, but it's not marked for settlement.<br><br>Capture instructs the gateway to confirm the transaction and to perform the settlement. In other words, moving funds from the customer to the merchant. This api allows the funds to be capture in the same amount or an amount smaller than the pre-authorization.</p> |
| Cancel  | <p>Transaction is in the pre-authorize state and can be simply cancelled without generating any financial activity.<br></p><p>This API will not work in a different state, such as capture, void, etc.</p>                                                                                                                                                                                                                                                                                                                                                 |
| Refund  | Transaction is captured and funds will be returned to the customer card. This operation will deduct funds from the merchant account to be returned to the customer.                                                                                                                                                                                                                                                                                                                                                                                        |
| List    | Returns all the events related to the authorization, including fees.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

<figure><img src="../../.gitbook/assets/Screenshot 2024-04-18 at 3.07.29 PM.png" alt="" width="563"><figcaption></figcaption></figure>
